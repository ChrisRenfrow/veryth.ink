---
interface Props {
  author?: string
  source?: string
  sourceUrl?: string
  centered?: bool
  right?: bool
}

const { author, source, sourceUrl, centered, right, ...attrs } = Astro.props
---

<blockquote
  {...attrs}
  class:list={[
    'not-prose px-1 py-8 sm:w-2/3 sm:px-4',
    { 'ml-auto': right, 'mx-auto': centered },
  ]}
>
  <div class="inline-flex border-l-4 border-stone-500 pl-4 text-2xl italic">
    &ldquo;<span class="pl-2 text-lg"><slot /></span>&rdquo;
  </div>
  {
    (author || source) && (
      <div class="mt-2 flex justify-end">
        <div class="inline-flex flex-wrap items-center justify-end">
          &ndash;&NonBreakingSpace;
          {author && (
            <span class="font-bold text-stone-100">
              {`${author}${source && ', '}`}
            </span>
          )}
          {source && (
            <span class:list={{ 'font-bold': !author, 'ml-1': author }}>
              {sourceUrl ? (
                <a
                  href={sourceUrl}
                  class="underline decoration-orange-600 decoration-2 hover:bg-orange-600 hover:text-stone-800"
                >
                  {source}
                </a>
              ) : (
                source
              )}
            </span>
          )}
        </div>
      </div>
    )
  }
</blockquote>
