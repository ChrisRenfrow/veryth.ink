---
import FormattedDate from '@components/FormattedDate.astro'
import type { CollectionEntry } from 'astro:content'

interface Props {
  posts: CollectionEntry<'blog'>[]
  baseUrl?: string
}

const { posts, baseUrl = '/blog' } = Astro.props
---

<ul class="grow flex flex-col space-y-2">
  {
    posts.map((post) => (
      <li>
        <h3 class="font-bold text-lg">
          <a
            class="underline decoration-orange-600 decoration-2 hover:bg-orange-600 hover:text-stone-800"
            href={`${baseUrl}/${post.slug}`}
          >
            {post.data.title}
          </a>
        </h3>
        <FormattedDate date={post.data.published_on} />
        <div class:list={{ hidden: !post.data.category }}>
          <a
            class="text-sm text-stone-500 dark:text-stone-400 underline decoration-1 decoration-orange-700 hover:bg-orange-600 hover:text-stone-800 hover:no-underline font-bold"
            href={`${baseUrl}/categories/${post.data.category}`}
          >
            /{post.data.category}
          </a>
        </div>
        <p class="dark:text-stone-300 text-stone-600">
          {post.data.description}
        </p>
      </li>
    ))
  }
</ul>
