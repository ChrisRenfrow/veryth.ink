---
import '@fontsource/iosevka'

import BaseHead from '@components/BaseHead.astro'
import Header from '@components/Header.astro'
import Footer from '@components/Footer.astro'
import WebringNav from '@components/WebringNav.astro'

interface Props {
  pageTitle?: string
  frontmatter?: any
}

const { pageTitle, frontmatter } = Astro.props
---

<!doctype html>
<html lang="en" class="font-['Iosevka']">
  <head>
    <BaseHead pageTitle={pageTitle || frontmatter?.title} />
  </head>
  <body
    class="mx-auto flex min-h-screen max-w-4xl flex-col bg-amber-50 px-5 pt-10 text-stone-700 md:w-2/3 md:px-0 dark:bg-stone-900 dark:text-stone-200"
  >
    <Header />
    <div class="flex grow flex-col pb-10">
      <slot />
    </div>
    <hr class="border-stone-400 pb-6" aria-hidden="true" />
    {
      Astro.url.pathname !== '/webrings' && (
        <aside class="pb-6" aria-labelledby="featured-webring-heading">
          {/* prettier-ignore */}
          <h2 id="featured-webring-heading" class="font-bold lowercase">
            Webrings:
          </h2>
          <WebringNav
            label="ring.recurse.com"
            home="https://ring.recurse.com/"
            prev="https://ring.recurse.com/prev?id=6"
            next="https://ring.recurse.com/next?id=6"
            random="https://ring.recurse.com/rand"
          />
          <WebringNav
            label="webring.club"
            home="https://webring.club"
            prev="https://webring.club/_1baKjCgGss2DStx/previous"
            next="https://webring.club/_1baKjCgGss2DStx/next"
            random="https://webring.club/random"
          />
        </aside>
      )
    }
    <Footer />
  </body></html
>
